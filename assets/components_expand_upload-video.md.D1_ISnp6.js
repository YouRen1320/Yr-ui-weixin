import{_ as d,o as s,c as i,ag as a}from"./chunks/framework.CMDCx-Hm.js";const E=JSON.parse('{"title":"UploadVideo 视频上传","description":"","frontmatter":{},"headers":[],"relativePath":"components/expand/upload-video.md","filePath":"components/expand/upload-video.md"}'),e={name:"components/expand/upload-video.md"};function l(n,t,r,h,p,o){return s(),i("div",null,[...t[0]||(t[0]=[a(`<h1 id="uploadvideo-视频上传" tabindex="-1">UploadVideo 视频上传 <a class="header-anchor" href="#uploadvideo-视频上传" aria-label="Permalink to &quot;UploadVideo 视频上传&quot;">​</a></h1><p>视频上传组件，支持拍摄或从相册选择视频上传。</p><h2 id="基础使用" tabindex="-1">基础使用 <a class="header-anchor" href="#基础使用" aria-label="Permalink to &quot;基础使用&quot;">​</a></h2><p>自动上传：</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">yr-ui-upload-video</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/upload&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> immediate</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> bindsuccess</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">yr-ui-upload-video</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>手动上传：</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">yr-ui-upload-video</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/upload&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;upload&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> bindsuccess</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">yr-ui-upload-video</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> bindtap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;startUpload&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;开始上传&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  startUpload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">selectComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#upload&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e.detail)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="属性介绍" tabindex="-1">属性介绍 <a class="header-anchor" href="#属性介绍" aria-label="Permalink to &quot;属性介绍&quot;">​</a></h2><table tabindex="0"><thead><tr><th>属性名</th><th>类型</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>width</td><td>String/Number</td><td>640</td><td>容器宽度，单位rpx</td></tr><tr><td>height</td><td>String/Number</td><td>320</td><td>容器高度，单位rpx</td></tr><tr><td>fileList</td><td>Array</td><td>[]</td><td>默认显示的视频列表，格式：<code>[&#39;url1&#39;, &#39;url2&#39;]</code></td></tr><tr><td>max</td><td>String/Number</td><td>1</td><td>最大上传数量</td></tr><tr><td>url</td><td>String</td><td>-</td><td>上传接口地址</td></tr><tr><td>name</td><td>String</td><td>file</td><td>上传文件对应的 key</td></tr><tr><td>header</td><td>Object</td><td>{}</td><td>上传请求头</td></tr><tr><td>formData</td><td>Object</td><td>{}</td><td>上传额外参数</td></tr><tr><td>immediate</td><td>Boolean</td><td>false</td><td>是否选择视频后立即上传</td></tr><tr><td>callUpload</td><td>Boolean</td><td>false</td><td>是否自定义上传方法（V1.9.8+），设为 true 后需调用 <code>upload</code> 方法传入 promise</td></tr><tr><td>compressed</td><td>Boolean</td><td>true</td><td>是否压缩视频</td></tr><tr><td>maxDuration</td><td>Number</td><td>60</td><td>拍摄视频最大时长，单位秒</td></tr><tr><td>sourceType</td><td>Array</td><td>[&#39;album&#39;, &#39;camera&#39;]</td><td>视频来源</td></tr><tr><td>extension</td><td>Array</td><td>[]</td><td>限制上传格式，如 <code>[&#39;mp4&#39;]</code></td></tr><tr><td>size</td><td>String/Number</td><td>20</td><td>单个视频大小限制，单位 MB</td></tr><tr><td>background</td><td>String</td><td>#eee</td><td>容器背景色</td></tr><tr><td>radius</td><td>String/Number</td><td>0</td><td>圆角</td></tr><tr><td>borderColor</td><td>String</td><td>-</td><td>边框颜色</td></tr><tr><td>borderSytle</td><td>String</td><td>solid</td><td>边框样式</td></tr><tr><td>progressColor</td><td>String</td><td>#465CFF</td><td>进度条颜色</td></tr><tr><td>delColor</td><td>String</td><td>#eee</td><td>删除按钮颜色</td></tr><tr><td>confirmDel</td><td>Boolean</td><td>false</td><td>删除前是否弹窗确认</td></tr><tr><td>isView</td><td>Boolean</td><td>false</td><td>是否仅展示模式（不可上传/删除）</td></tr><tr><td>custom</td><td>Boolean</td><td>false</td><td>是否自定义选择按钮（未实现自定义slot，源码未见slot，可能仅控制样式显示？）源码仅判断 <code>custom</code> 属性? 源码中未见 explicit slot usage for custom button, need verify. 但 <code>custom</code> 属性存在。</td></tr><tr><td>param</td><td>String/Number</td><td>0</td><td>自定义参数</td></tr></tbody></table><h2 id="事件介绍" tabindex="-1">事件介绍 <a class="header-anchor" href="#事件介绍" aria-label="Permalink to &quot;事件介绍&quot;">​</a></h2><table tabindex="0"><thead><tr><th>事件名</th><th>说明</th><th>回调参数</th></tr></thead><tbody><tr><td>bindsuccess</td><td>上传成功时触发</td><td><code>{ status, res, param, ... }</code></td></tr><tr><td>binderror</td><td>上传失败时触发</td><td><code>{ status, res, param, ... }</code></td></tr><tr><td>bindcomplete</td><td>上传完成/状态改变时触发</td><td><code>{ status, urls, action, param }</code></td></tr><tr><td>binddelete</td><td>删除视频时触发</td><td><code>{ index }</code></td></tr><tr><td>bindreupload</td><td>重新上传时触发 (callUpload=true)</td><td><code>{ index }</code></td></tr></tbody></table><h2 id="方法介绍" tabindex="-1">方法介绍 <a class="header-anchor" href="#方法介绍" aria-label="Permalink to &quot;方法介绍&quot;">​</a></h2><p>通过 <code>this.selectComponent</code> 获取组件实例后调用。</p><table tabindex="0"><thead><tr><th>方法名</th><th>说明</th><th>参数</th></tr></thead><tbody><tr><td>start</td><td>开始上传 (非 immediate 模式)</td><td>-</td></tr><tr><td>reUpload</td><td>重新上传</td><td><code>e</code> (事件对象，通常用于点击进度条重新上传)</td></tr><tr><td>upload</td><td>自定义上传方法</td><td><code>callback(file, index)</code>: 返回 Promise 的函数, <code>index</code>: 可选，指定索引</td></tr></tbody></table>`,15)])])}const c=d(e,[["render",l]]);export{E as __pageData,c as default};
